@model BetterThanMooshak.Models.ViewModel.ProblemDetailsViewModel
@{
    ViewBag.Title = "Details";
}

<div class="boxTitle">
    <h1>@Model.problem.name</h1>
</div>
<div class="boxText">
    <a class="btn btn-default pull-right" href="@Url.Action("addtestcase","problem", new { id = Model.problem.id})">Add Testcase</a>
    <p>Score: <i>user score</i>/
        @{
            var total = 0;
            foreach (var x in Model.testcases)
            {
                total += 2;
            }
        }
        @total
    </p>
    <p>Handins: <i>user handins</i> / @Model.problem.maxAttempts</p>

    <div class="desc">
        <span style="white-space: pre-line">
            @Model.problem.description
        </span>
    </div>

    
    <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#solution">Solution</a></li>
        <li><a data-toggle="tab" href="#input">Input / Output</a></li>
        <li><a data-toggle="tab" href="#submission">Submissions</a></li>
        <li><a data-toggle="tab" href="#hints">Hints</a></li>
        <li><a data-toggle="tab" href="#discussion">Discussion</a></li>
        <li><a data-toggle="tab" href="#answer">Answer</a></li>
    </ul>
    <div class="tab-content">
        @*Solutions Tab *@
    <div class="tab-pane fade in active" id="solution">
        @Html.Partial("_SolutionAceEditor")
    </div>
    @*Input / Output Tab*@
        <div class="tab-pane fade" id="input">
            @foreach (var testcase in Model.testcases)
            {
               @Html.Partial("_ProblemInputOutput",testcase)
            }
        </div>
        @*Submissions Tab*@
        <div class="tab-pane fade" id="submission">
            <table>
                <thead>
                    <tr>
                        <th>Nr</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Score</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var x in Model.submissions)
                    {
                        <tr>
                            <td>@x.Id</td>
                            <td>Date submitted <!--ToDo!--></td>
                            <td>submission status <!--ToDo!--></td>
                            <td>submission score <!--ToDo!--></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        @*Hints Tab*@
        <div class="tab-pane fade" id="hints">
            <h3>hint title</h3>
            <p>hint body</p>
            <!--
                    @*foreach (var x in Model.hints)
                    {
                        <h3>hint title</h3>
                        <p>hint body</p>
                    }*@
                -->
        </div>
        @*Discussion Tab*@
        <div class="tab-pane fade" id="discussion">
            <h3>Discussion title</h3>
            <p>discussion body</p>
            <button>Answer</button>
            <button>View comments</button>
            <!--
                    @*foreach (var x in Model.discussions)
                    {
                        <h3>Discussion title</h3>
                        <p>discussion body</p>
                        <button>Answer</button>
                        <button>View comments</button>
                    }*@
                -->
        </div>
        @*Answer Tab*@
        <div class="tab-pane fade" id="answer">
            @Model.answer.program
        </div>

    </div>
</div>